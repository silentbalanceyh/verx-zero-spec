ifndef::imagesdir[:imagesdir: ../images]
:data-uri:

==== 区域基础

区域（旧版本称为：资源路径）位于 `S_PATH` 表结构中，它定义了目前权限管理的区域板块，如下图：

image:zero-p-admin-region.png[,1024]

在权限管理中，区域会衍生横向的页签，每一个页签由一个区域配置来实现，只是该区域配置中可以包含子区域。*权限管理* 端的主要目的是针对 `S_VIEW` 和 `S_VISITANT` 中的数据执行角色级和用户级的增删改，所以 `S_PATH` 中的定义相对比较抽象。

- 非区域模式：在非区域模式下 `S_PATH` 中的 `PARENT_ID` 通常是 `NULL` 值，此时的管理分为两种：

+
--
    - 带维度定义的管理：按照某种维度分类之后执行管理。
    - 不带维度定义的管理：直接平行管理，最简单的操作。
--
- 区域模式：在区域模式下 `S_PATH` 通常是一个树型结构，顶层区域（页签）这一级的 `PARENT_ID` 通常是 `NULL` 值，但子区域是挂在主区域上的。

[TIP]
====
非区域模式适合管理1个资源的场景，如菜单管理，仅管理菜单读取资源的信息就可以完成。区域模式则适合管理N个资源的场景，如流程管理，除了管理流程的OP资源以外，还有流程最右上角的QBE的管理。最终遵循的原则是：所有的子区域负责资源管理的执行，非子区域主要负责区域的调度，非区域模式其实就是特殊区域管理（子区域和父区域）的等价模式。

此处使用 *区域* 的目的是接口最终会带有 authority region 关键字。
====

===== 完整结构

管理端执行配置化管理的整体拓扑图如下：

image:zero-p-admin-arch.png[,1024]

===== 维度定义

维度定义在Zero权限管理中是一个比较新的概念，它定义了不同场景的管理行为：

- 比如管理菜单：需要依赖菜单分类之后执行管理，而不是将所有菜单统一管理，这种模式下需定义菜单的 *分类维度*。
- 比如流程管理：需要依赖选择某个流程之后执行相关管理（包括QBE列表、OP操作），这种模式下维度定义需定义流程的 *分类维度*。
- 比如模型管理：需要依赖选择某个模型之后执行相关管理，这种模式下维度定义需定义模型的 *分类维度*。

[CAUTION]
====
归根到底，管理端的主要操作是针对 `S_VIEW` 和 `S_VISITANT` 中定义的内容执行增删改以保证配置生效，作用于不同角色访问不同资源的安全视图，参考上述拓扑图就可以完成所有管理端的配置操作，接下来以菜单管理/流程管理为范例，来讲解管理端的详细配置。
====


















