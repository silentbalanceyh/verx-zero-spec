ifndef::imagesdir[:imagesdir: ../images]
:data-uri:

== 模块/扩展

[NOTE]
====
关于 **热部署** image:i-config-t.png[] 和 **冷部署** image:i-config.png[]：

此处讲一下这两种方式在 Zero 中的区别，**冷部署** 方式是大多数传统项目的 **配置方式**，您可以更改容器中的配置文件以及整理某些目录中待加载的资源信息，但是这些配置在更改之后，您必须 **重启** 容器才能生效。虽然在配置过程中您不需要更改代码，可以不用重新编译或部署，但重启容器是必须的。

- **开发环境**：`.env.development` 驱动，在开发环境中由于频繁更改配置，配置目录位于编译好的 `target` 目录中，有时候仅依靠更改 `src/main/resources` 不生效，必须编译后才能生效。
- **生产环境**：生产环境和传统运行时一样，通常运行时会有一个配置目录（当前 `conf` 目录），您只需要更改配置目录中的相关文件，就可以 **重启** 生效。

而 Zero 中的更改系统方式主要三种：

[options="header",cols="2,8"]
|====
|实施方式|含义
|代码驱动|一般是传统模式下的开发、编译、部署的方式对系统进行更改，整个更改遵循 **软件工程** 开发流程，您只要把更新不分像打补丁一样更新到系统中就可以了。
|配置驱动|（静态模式）这种模式下您只需要更改系统的配置文件，然后 **重启容器** 即可以生效，整个 Zero Extension 中几乎 `80%` 的功能点都是这种驱动方式，这种方式不依赖重新开发和编译，只要更改配置之后，就可以重启生效。
|数据驱动|（动态模式）这种模式主要依赖 `zero-atom, zero-ui, zero-jet` 几个核心的配置模块，所有的配置数据都是直接让数据库（编译时存储）和缓存（运行时存储）打通，运行过程中您可以登录 **开发中心** 对配置进行更改，并且所见即所得，管理配置的结果会刷新缓存让所有的配置部分实时生效。
|====

从整体运维架构上考虑，第三种 **数据驱动** 的方式是灵活性最好的，也是未来框架覆盖的重点，这种热部署的方式可对接 **开发中心**（低代码），让实施人员只做实施、开发人员只做开发，最终形成完整的生命周期流水线，大大减少交付、运维、测试、开发的工作量，也可以真正意义体现框架的价值：`Zero`——使用零配置、零代码的方式去完成软件工程项目，从形式化角度和 `MBSE` 理论拓展出基于模型的系统工程，真正满足各种变化和扩展的业务需求。

====

Zero 中的扩展系统手段有很多，此处整体概览如下：

[options="header",cols="30,15,55"]
|====
|扩展方式|实现进度|含义
|image:i-config.png[] `YML` 模式|已完成|Zero 核心框架中最简单的扩展方式就是在 `yml` 配置文件中配置相关扩展，如 `vertx-inject.yml、vertx-excel.yml` 配置文件中都可以配置相关扩展。Zero 底层大面积使用了 **面向接口** 的编程方式，所以只需要在 `yml` 配置中追加相关的实现配置就可以对框架进行扩展了，借用 Zero 框架本身自带的 `Infix` 插件架构以及 `Extension` 的扩展架构，这种扩展模式变得十分灵活。
|image:i-config.png[] `JVM` 模式|已完成|在书写组件、服务接口、通道等整体配置中，Zero 底层主要应用了常见的三种语言特性去完成扩展：`SPI`、`JDK 9 Module`、`反射`，依靠Java语言的这三种特性，您可以在很多关键数据流的环节中直接开发新组件和扩展，此扩展可以标准化到 Zero 框架中，也可以不使用标准化的方式直接打补丁到系统里。
|image:i-config.png[] `Zero Extension` 模式|已完成|Zero 扩展框架的启用流程中，您可以将需打开的扩展先配置到 `pom` 文件中启用当前系统所需的扩展，随后再通过常见的 `JSON` 配置、反射、或其他配置完成容器层、驱动层、应用层三层的核心配置实施和部署。
|image:i-config.png[] `Zero Ai` 模式|`80%`|Zero 工具项中提供了专用的自动化、智能化脚本做扩展，您可以随时对 Zero 的前后端做 **升级**、**迁移**、**分析** 等复杂的功能。
|image:i-config-t.png[] `OSGI` 模式|`80%`|新版本的 Zero 重写了 **启动器**，内置没有打开 `osgi` 容器的功能，但在 **工业模型** 规范中，它可以帮助您启动 `osgi` 的热部署功能，虽然技术本身比较古老，但可以让您彻底实现 **重量级** 的热部署、热插拔功能。
|image:i-config-t.png[] `MBSE` 模式|`60% ~ 70%`|基于 `MBSE` 模型理论，核心扩展 `zero-atom` 中支持 **动态建模** 技术，这种模式是最灵活的，甚至无需后台的 `osgi` 模式，只要数据发生变更，配置部分就所见即所得（这也是 Zero **开发中心**）的基础。
|image:i-config-t.png[] `Adapter` 模式|已完成|参考 `HP-Connect It` 产品的设计，核心扩展 `zero-is` 中支持各种针对底层语言功能、业务功能的丰富的集成功能，所有第三方集成在实际实施过程中是不需要书写任何特定代码的，您可以直接将所需功能和需求描述转换成它可以消化的集成配置，并升级集成的功能服务组件。
|image:i-config-t.png[] `DevOps` 模式|`30% ~ 40%`|（云平台）在应用层，这种模式主要面向云原生系统的打造，在打造完成后，开发中心的控制台可以对系统执行 `DevOps` 规范的云原生发布（注：这种模式虽然是热部署，但针对部分实时性要求很高的 `IOT` 场景，实际项目过程中会发现是有问题的，所以这种方式多用于互联网系统、应用系统、非专业的管理中后台）。
|image:i-config-t.png[] `Ecosystem Ai` 模式|`40% ~ 50%`|（开发中心）这种模式为 **数智化** 模式，遵循 **函数式编程** 模型，在后端采用 **机器智能模块** 对现有的冷配置、热配置部署对应的算法，注入脚本让机器实现 `AiOps` 理论下的智能化交付、开发、实施、部署，这种模式是目前正在开发的一种模式，由于此种模式依赖底层的 `MBSE` 建模理论和低代码开发中心，所以是目前 `Zero` 中最复杂的一种模式，这种模式是目前 **高阶设计** 中（ `zero-ams` ）已经完成设计的核心模式，最终目的是打造一个：**人机交互** 的未来式软件开发流程，帮助企业真正意义上实现 **数智化** 的完整管理、成长、实战体系，也是目前 Zero 最主要的远景和蓝图。
|====

====
上述所有扩展模式中，展现 **进度** 是让开发人员清楚目前 Zero 在实施完成了十几个项目之后的现状，此处很多扩展模式绝非空穴来风，大部分扩展都是从实战过程中累积下来标准化的扩展组件，虽然部分组件不够完善，但完成一个 60分 的系统是完全没有问题的。
====

include::02.02.mod-ambient.adoc[]
