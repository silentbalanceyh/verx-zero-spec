ifndef::imagesdir[:imagesdir: ../images]
:data-uri:
:table-caption!:

=== 结果检查

前文已经讲解了基础配置，也将添加表单全部配置完成，那么本章节提供**数据检查点**帮助开发人员验证配置是否正确，数据本身是否完整和统一。

==== 添加测试

进入：`合规审计/法规管理` 菜单，点击按钮 `添加` 按钮：

image:exp-ret-form.png[,900]

在 `法规管理` 中，只设置了四个核心**必填**字段：

[options="header",cols="2,8"]
|====
|属性|含义
|`name`|附件名称，您可以重命名此文档，保证不重复即可，此名称一般不需要您填写（现阶段还未引入版本检查）。
|`files`|（附件）法规关联附件，此属性是**虚拟属性**，在后端会配置到 `attachment` 附件配置中形成 `X_ATTACHMENT` 的自动关联。
|`title`|法规标题，您可以填写您的法规标题。
|`sn`|法规编号，不重复的编号，测试阶段可随意填写。
|====

填写完成后直接提交：

image:exp-ret-callback.png[,900]

===== 双表数据

先检查数据库中两张表中的添加记录信息，参考下图：

image:exp-ret-database.png[,900]

从数据库记录中可以看到 `D_DOC` 父表作为**从表**以及和当前法规的子表产生了记录的关联关系。

===== 附件数据

附件数据检查两处：**目录数据**和**附件数据**，参考下图：

image:exp-ret-dir.png[,900]

1. 从附件数据中可以看到开启**集成**服务之后，附件和目录的结构关系和从属关系已经在底层关联上了。
2. 广义关联部分 `modelKey` 和 `modelId` 对应的值也和模型中的数据对接上了。

===== 文件数据

最后检查文件数据（记得将文件打开确认文件内容是对的）：

image:exp-ret-store.png[,600]

==== 删除测试

删除和添加相反，此处就不截图了：

1. 基础数据记录中 `D_DOC` 和 `NM_LAW` 两张表对应的记录要删除掉。
2. `X_ATTACHMENT` 记录中的表删除掉，此步骤删除过程中，`I_DIRECTORY` 和对应的目录会保留下来，此后续步骤可以直接在**文档管理**模块直接管理。
3. 查看附件本身是否已经彻底删除。

[NOTE]
====
根据本章节的配置，检查完成后就证明整个添加操作就已经配置完成并开发完成，**删除**测试后就形成一个相对完整的闭环。为什么不测试**更新**？法规管理的更新并非一般更新，更新会在单独的章节给大家讲解**自定义**部分的详细开发流程，标准配置流程中就不看更新的内容了。
====