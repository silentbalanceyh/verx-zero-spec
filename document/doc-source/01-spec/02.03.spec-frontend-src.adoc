ifndef::imagesdir[:imagesdir: ../images]
:data-uri:

=== 源码规范

==== 基础函数

Zero UI中的函数名称拥有特定函数规范，基础函数规范参考下表：

[options="header",cols="15,20,65"]
|====
|前缀|全称|含义
|on |（无）|标准 HTML 对应的事件专用，通常只用于 onChange 事件。
|on2 |（无）|（二阶函数）标准 HTML 对应事件的高阶函数。
|rx | Reactive Execute|Zero UI中常用标准化事件，反向交互和标准交互专用。
|fn | Function |JavaScript标准函数，原生函数集。
|ix | Internal Execute|Zero UI中的内部调用专用函数，用于组件内部交互专用。
|====

==== 生命周期函数

根据React生命周期，通常在Zero UI中的生命周期函数如下：

[options="header",cols="15,15,70"]
|====
|自定义组件|外部|含义
|componentInit|yiXXX|在 `componentDidMount` 中使用的生命周期函数。
|componentUp|yuXXX|在 `componentDidUpdate` 中使用的生命周期函数。
||yoXXX|在 `render` 中使用的生命周期函数。
|====

==== 基本命名

Zero UI前端启动使用的是：`run-zero.sh / run-zero.bat` 命令，执行过程中，框架本身会自动化生成路由，您可以配合后端在 `X_MENU` 中配置对应链接连上配置数据中的菜单路径，前端路由使用 `react-router` 实现，由于Zero UI是支持多应用模式，所以路由中的根路径不出现在任何后端配置和代码脚本中，`Z_ROUTE` 部分已合理封装。基本命名规范主要辅助开发者完成如下任务：

1. 可直接对接自动化脚本实现脚本对接，遵循规范之后的脚本才能直接实现脚本对接。
2. 可让开发人员自由开发自己想要的相关界面。

参考下边的命名规范基本规则表：

[options="header",cols="15,15,70"]
|====
|规则|类型|含义
|名空间文件|固定名称|通常在 *页面/模块* 目录中直接使用 `Cab.json` 定义名空间信息，`cab` 一词来源于微软的语言包名称后缀，通常为 `zh_CN.cab` 文件，而链接资源文件可实现显示文字的多语言化，所以使用了此名称。
|入口文件|固定名称|每个页面或入口文件通常使用 `UI.js` 或 `UI.jsx` 来定义，该文件会被路由生成器识别到，最终生成的代码也如此，若您的入口文件不是此文件名，可能会抛 `module not found` 的问题。
|事件相关|约定名称|每个页面若有事件定义，则创建 `Op.js` 作入口文件，而在整个目录中所有以 `Op` 开始的文件名都是 *事件*，通常使用 `rx` 前缀的高阶函数。
|静态风格|固定名称|每个目录中的静态风格文件统一使用 `Cab.norm.scss` 命名，并且直接导入。
|动态风格|固定名称|每个目录中的动态风格文件统一使用 `Cab.module.scss` 命令，此时采用风格规范中的专用做法。
|界面文件|约定名称|若您的页面不复杂，比如只有一个核心组件，则直接使用 `Web.jsx` 做界面渲染（带Jsx语法的推荐使用jsx结尾）。
|====

[CAUTION]
====
若您的页面中业务模块比较复杂，除 `UI.js` 的入口文件以外，您可以创建带有模块前缀的上述文件来构造，或者索性走完整的目录来规划当前页面，整个前端规范除了上述的固定文件一般是不可变的，其他内容都可以随意开发，您也可以不使用任何 Zero UI 部分的内容从头开始完整开发。
====

==== 变量名

变量命令的规则整体如下（参考现有部分）：

1. 所有内部变量、内部函数等都使用 **下划线** 或 **双下划线** 做命名前缀：
+
--
- 内部变量一般指 `props / state` 中的变量，并非编程过程的局部变量。
- 内部函数一般指某个源码文件中不做 `export` 的函数，早期内部函数不一定遵循此规则。
--
2. `Ux / Ex` 中的函数名遵循功能前缀，此部分内容可直接参考在线文档：<https://www.vertxui.cn> 中的相关说明。
3. 所有带 `$` 前缀的变量都属于 Zero 标准化变量，这种标准化变量属于定制款，详情可参考下一章节的常用变量部分。
4. `data / config` 为特殊变量，负责组件的 **数据** 和 **配置**，为固定命名。
5. `$t_` 和 `$a_` 前缀的变量为辅助数据变量，类型一般为 `DataAssist`。
6. 如果属性和状态中变量名称出现了重名：
+
--
- state 状态中的变量中内容是可变更的，默认优先级更高。
- props 属性中的变量中内容是只读的，默认优先级低。
- 关于变量优先级在 `Ux` 的API中实际是可调整的。
--
7. 所有常量全大写（或下划线）命名。